<section
  data-section-id="shopify-section-{{ section.id }}"
  data-section-type="promo-strip"
  class="shopify-section">
  <div class="promo-strip page-width">
    <div class="promo-strip__item">
      <div class="heading">{{ section.settings.text }}</div>
      <div class="text">{{ section.settings.link_text }}</div>
      <discount-code class="discount_code--element">
        <span class="js-discount-code">{{ section.settings.discount_code }}</span>
        <button class="js-copy-button">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1"
            stroke="currentColor"
            class="icon">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z" />
          </svg>

          Click to Copy
        </button>
        
      </discount-code>
    </div>
  </div>
</section>

<style>
  [data-section-id="shopify-section-{{ section.id }}"] {
    background-color: rgba({{ section.settings.background_color.rgb | split: ' ' | join: ',' | append: ', 0.3' }});
  }

  .promo-strip .promo-strip__item {
    max-width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 8px;
    gap: 5px;
    color: {{ section.settings.text_color }};
  }

  .promo-strip .promo-strip__item .heading {
    font-weight: 700;
    font-size: 20px;
  }

  .promo-strip .promo-strip__item discount-code {
    display: flex;
    align-items: center;
    border: 1px solid {{ section.settings.text_color }};
    padding: 5px 20px;
    border-radius: 20px;
    cursor: pointer;
  }

  .promo-strip .promo-strip__item discount-code .js-discount-code {
    border-right: 1px dotted black;
    padding-right: 10px;
  }

  .promo-strip .promo-strip__item discount-code .js-copy-button {
    padding-left: 10px;
  }

  @media only screen and (min-width:769px) {
    .promo-strip .promo-strip__item {
        flex-direction: row;
        gap: 20px;
    }
  }
</style>

{% schema %}
  {
    "name": "Promo Strip",
    "settings": [
      {
        "type": "text",
        "id": "text",
        "label": "t:sections.header.blocks.announcement.settings.text.label",
        "default": "FLASH SALE"
      },
      {
        "type": "text",
        "id": "link_text",
        "label": "t:sections.header.blocks.announcement.settings.link_text.label",
        "default": "30-day postage paid returns"
      },
      {
        "type": "text",
        "id": "discount_code",
        "label": "Enter Discount Code"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#ffffff"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#ffffff"
      }
    ],
    "default": {
      "settings": {}
    },
    "disabled_on": {
      "groups": ["footer"]
    }
  }
{% endschema %}